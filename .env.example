# =============================================================================
# SCOGO AI IT SUPPORT ASSISTANT - ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables required to run the application.
# Copy this file to .env and fill in your actual values.
#
# IMPORTANT: Never commit .env to version control!
#
# For detailed configuration guide, see: docs/deployment/configuration.md
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONMENT & PORTS
# -----------------------------------------------------------------------------
# Environment: development, staging, production
NODE_ENV=development

# Backend server port
# Default: 4000
PORT=4000

# -----------------------------------------------------------------------------
# BACKEND URL CONFIGURATION (CRITICAL)
# -----------------------------------------------------------------------------
# ⚠️  IMPORTANT: This setting varies by environment!
#
# Local Development (running services directly):
#   BACKEND_BASE_URL=http://localhost:4000
#
# Docker Compose (running in containers):
#   BACKEND_BASE_URL=http://scogo-backend:4000
#   ↑ Use Docker service name for container-to-container communication
#
# Production:
#   BACKEND_BASE_URL=https://your-backend-domain.com
#
# The agent needs this to communicate with the backend for session metadata
# and screen share monitoring. If misconfigured, you'll see "Connection refused"
# errors in agent logs.
#
BACKEND_BASE_URL=http://localhost:4000

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins for CORS
# Add your frontend URLs here
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,chrome-extension://*

# -----------------------------------------------------------------------------
# GOOGLE OAUTH CONFIGURATION
# -----------------------------------------------------------------------------
# Google OAuth 2.0 credentials for user authentication
# Get these from: https://console.cloud.google.com/apis/credentials
#
# Required scopes: openid, email, profile
# Authorized redirect URIs must include: https://<extension-id>.chromiumapp.org/
#
GOOGLE_OAUTH_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_REDIRECT_URI=https://your-extension-id.chromiumapp.org/
GOOGLE_TOKEN_INFO_URL=https://oauth2.googleapis.com/tokeninfo

# -----------------------------------------------------------------------------
# LIVEKIT CONFIGURATION
# -----------------------------------------------------------------------------
# LiveKit Cloud credentials for real-time communication
# Get these from: https://cloud.livekit.io/projects
#
# API Key format: APxxxxxxxxxxxxxxxxx
# API Secret format: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
#
LIVEKIT_API_KEY=your-livekit-api-key
LIVEKIT_API_SECRET=your-livekit-api-secret

# LiveKit WebSocket URL
# Format: wss://your-project.livekit.cloud
# Example: wss://scogo-vision-ai-unf1hkjy.livekit.cloud
LIVEKIT_HOST=wss://your-project.livekit.cloud

# LiveKit token time-to-live in seconds
# Default: 21600 (6 hours)
# Range: 300-86400 (5 minutes - 24 hours)
LIVEKIT_TOKEN_TTL_SECONDS=21600

# -----------------------------------------------------------------------------
# GEMINI AI CONFIGURATION
# -----------------------------------------------------------------------------
# Google Gemini API key for AI capabilities
# Get from: https://makersuite.google.com/app/apikey
#
# ⚠️  Keep this secret! Never expose in client-side code.
#
GEMINI_API_KEY=your-gemini-api-key

# Gemini model to use
# Options: models/gemini-2.0-flash-exp, models/gemini-1.5-pro-latest
# Recommended: models/gemini-2.0-flash-exp (lower latency)
GEMINI_REALTIME_MODEL=models/gemini-2.0-flash-exp

# Gemini voice for text-to-speech
# Options: Puck, Charon, Kore, Fenrir, Aoede, Zephyr
# Recommended: Zephyr (natural sounding)
GEMINI_VOICE=Zephyr

# Gemini temperature for response randomness
# Range: 0.0-1.0
# 0.6 = balanced (recommended for IT support)
# 0.0 = deterministic, 1.0 = creative
GEMINI_TEMPERATURE=0.6

# -----------------------------------------------------------------------------
# SESSION & LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
# Session log retention period in days
# Default: 90
# Set to 0 for no retention limit (not recommended for production)
SESSION_LOG_RETENTION_DAYS=90

# Application log level
# Options: error, warn, info, debug
# Default: info
# Use debug for development, info for production
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# AGENT CONFIGURATION
# -----------------------------------------------------------------------------
# Path to knowledge base directory (relative to agent/)
# Default: agent/knowledge_base
KNOWLEDGE_BASE_PATH=agent/knowledge_base

# Voice Activity Detection threshold
# Range: 0.0-1.0
# Default: 0.6
# Higher = less sensitive (fewer false positives)
# Lower = more sensitive (may trigger on background noise)
VAD_THRESHOLD=0.6

# -----------------------------------------------------------------------------
# DEVELOPMENT & TESTING
# -----------------------------------------------------------------------------
# Allow development tokens (bypasses OAuth in development)
# ⚠️  MUST be false in production!
# Default: true for development
ALLOW_DEV_TOKENS=true

# Agent API key for development (optional)
# If not set, agent will work without authentication in dev mode
# AGENT_API_KEY=dev-agent-key

# -----------------------------------------------------------------------------
# OPTIONAL: SCREEN SHARE CONFIGURATION
# -----------------------------------------------------------------------------
# Screen share frame compression quality (1-100)
# Default: 80
# Higher = better quality, larger files, more latency
# Lower = faster transmission, lower quality
# SCREEN_SHARE_COMPRESSION_QUALITY=80

# Screen share maximum resolution
# Default: 1920x1080
# Format: WIDTHxHEIGHT
# SCREEN_SHARE_MAX_RESOLUTION=1920x1080

# Screen share frame capture interval in milliseconds
# Default: 5000 (5 seconds)
# Lower = more frequent updates, higher bandwidth
# SCREEN_SHARE_FRAME_INTERVAL_MS=5000

# Enable/disable screen sharing feature
# Default: true
# SCREEN_SHARE_ENABLED=true

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
#
# [ ] All placeholder values replaced with actual credentials
# [ ] BACKEND_BASE_URL set correctly for your environment
# [ ] NODE_ENV=production
# [ ] ALLOW_DEV_TOKENS=false
# [ ] LOG_LEVEL=info (or warn/error)
# [ ] CORS_ORIGINS includes only trusted domains
# [ ] All API keys are kept secure (use secrets manager in production)
# [ ] SSL/TLS certificates configured for HTTPS
# [ ] Firewall rules allow WebSocket connections
# [ ] Health check endpoints accessible
#
# For deployment guide, see: docs/deployment/README.md
# =============================================================================
